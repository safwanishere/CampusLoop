{% extends "layout.html" %}

{% block main %}

<header>
    <h1>placements</h1>
    <a href="/logout">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
            <path fill="currentColor" d="M5 21q-.825 0-1.412-.587T3 19V5q0-.825.588-1.412T5 3h6q.425 0 .713.288T12 4t-.288.713T11 5H5v14h6q.425 0 .713.288T12 20t-.288.713T11 21zm12.175-8H10q-.425 0-.712-.288T9 12t.288-.712T10 11h7.175L15.3 9.125q-.275-.275-.275-.675t.275-.7t.7-.313t.725.288L20.3 11.3q.3.3.3.7t-.3.7l-3.575 3.575q-.3.3-.712.288t-.713-.313q-.275-.3-.262-.712t.287-.688z" />
        </svg>
    </a>
</header>

{% if summary %}
<div class="gemini-summary">
    <h2>ðŸ’¡ Insights from Gemini AI</h2>
    <p>{{ summary | replace('\n', '<br>') | safe }}</p>
  </div>
{% endif %}


<div class="placements-container">
    {% for p in placements %}
    <div class="placement-card">
        <h2>{{ p[3] }} @ {{ p[2] }}</h2>
        <p><strong>CTC:</strong> {{ p[4] }}</p>
        <p><strong>CGPA:</strong> {{ p[5] }}</p>
        {% if p[6] %}<p><a href="{{ p[6] }}" target="_blank">LinkedIn</a></p>{% endif %}
        {% if p[7] %}<p><a href="{{ p[7] }}" target="_blank">GitHub</a></p>{% endif %}
        <p>{{ p[8] }}</p>
    </div>
    {% endfor %}
</div>

<h2 class="form-heading">Add Your Placement</h2>
<form method="post" class="placement-form">
    <div class="form-group">
        <input name="company" type="text" placeholder="Company" required>
        <input name="post" type="text" placeholder="Job Title" required>
        <input name="ctc" type="text" placeholder="CTC (e.g., 12 LPA)" required>
        <input name="cgpa" type="number" step="0.01" placeholder="CGPA" required>
        <input name="linkedin" type="url" placeholder="LinkedIn (optional)">
        <input name="github" type="url" placeholder="GitHub (optional)">
        <textarea name="matter" placeholder="Anything youâ€™d like to share..." required></textarea>
    </div>
    <input type="submit" value="Submit" class="button">
</form>


{% endblock %}